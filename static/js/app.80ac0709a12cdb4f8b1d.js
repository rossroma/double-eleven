webpackJsonp([0],{0:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),n=e("8+8L");i.a.use(n.a);var a=new i.a;a.get=function(t,s){i.a.http.get("/"+t).then(function(t){200===t.status?s(t.body):console.log(t.status)})};var o=a,r=void 0,c={name:"CountDown",data:function(){return{endTime:new Date(2018,10,9),hours:["00"],miniutes:["00"],seconds:["00"]}},mounted:function(){r=setInterval(this.init,500)},methods:{init:function(){var t=new Date,s=Math.floor((this.endTime-t)/1e3),e=this.timeFormat(Math.floor(s/3600)),i=this.timeFormat(Math.floor(s%3600/60)),n=this.timeFormat(Math.floor(s%60));this.hours.splice(0,1,e),this.miniutes.splice(0,1,i),this.seconds.splice(0,1,n),this.endTime-t<=0&&(console.log("倒计时结束"),clearInterval(r),this.$emit("close"))},timeFormat:function(t){return("0"+t).substr(-2)}}},u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"count-down"},[e("div",{staticClass:"count-tips"},[t._v("距离2018.11.11开启 仅剩")]),t._v(" "),e("div",{staticClass:"count-area"},[e("div",{staticClass:"time"},[e("transition",{attrs:{name:"time"}},t._l(t.hours,function(s){return e("span",{key:s,staticClass:"time-item"},[t._v(t._s(s))])}),0)],1),t._v(" "),e("span",{staticClass:"text"},[t._v("小时")]),t._v(" "),e("div",{staticClass:"time"},[e("transition",{attrs:{name:"time"}},t._l(t.miniutes,function(s){return e("span",{key:s,staticClass:"time-item"},[t._v(t._s(s))])}),0)],1),t._v(" "),e("span",{staticClass:"text"},[t._v("分")]),t._v(" "),e("div",{staticClass:"time"},[e("transition",{attrs:{name:"time"}},t._l(t.seconds,function(s){return e("span",{key:s,staticClass:"time-item"},[t._v(t._s(s))])}),0)],1),t._v(" "),e("span",{staticClass:"text"},[t._v("秒")])])])},staticRenderFns:[]};var l=null,m={name:"App",components:{CountDown:e("VU/8")(c,u,!1,function(t){e("hPiJ")},"data-v-2bd0b594",null).exports},data:function(){return{jdList:[],tbList:[],interval:null,isCountDownShow:!0,currentTime:"2018-11-08  00:17:41"}},mounted:function(){var t=this;clearInterval(this.interval),this.interval=setInterval(function(){t.getSalesList()},5e3),this.getTimeNow()},computed:{saleTotal:function(){return this.tbList.reduce(function(t,s){return t+s.payAmt},0)+this.jdList.reduce(function(t,s){return t+s.payAmt},0)},uvTotal:function(){return this.tbList.reduce(function(t,s){return t+s.uv},0)+this.jdList.reduce(function(t,s){return t+s.uv},0)}},filters:{kFormat:function(t){return t.toFixed(2).replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")}},methods:{getSalesList:function(){var t=this;o.get("getSalesList",function(s){console.log("获取返回数据",s.jingdong,s.taobao),t.jdList=s.jingdong,t.tbList=s.taobao})},timeFormat:function(t){return("0"+t).substr(-2)},getTimeNow:function(){clearTimeout(l);var t=(new Date).getTime(),s=new Date(t+288e5).toISOString().substr(0,19);this.currentTime=s.replace("T","  "),l=setTimeout(this.getTimeNow,1e3)}}},v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app",attrs:{id:"app"}},[e("header",{staticClass:"head"},[e("div",{staticClass:"title"},[t._v("达尔美 2018.11.11")]),t._v(" "),e("div",{staticClass:"text"},[t._v("全店铺累计支付金额")]),t._v(" "),e("div",{staticClass:"money"},[t._v(t._s(t._f("kFormat")(t.saleTotal)))])]),t._v(" "),e("section",{staticClass:"content"},[e("div",{staticClass:"part-item"},[e("transition-group",{staticClass:"list",attrs:{name:"list-complete",tag:"ul"}},t._l(t.tbList,function(s,i){return e("li",{key:i,staticClass:"item"},[e("span",{staticClass:"name"},[t._v(t._s(s.title))]),t._v(" "),e("span",{staticClass:"pay"},[t._v(t._s(t._f("kFormat")(s.payAmt)))])])}),0)],1),t._v(" "),e("div",{staticClass:"part-item"},[e("transition-group",{staticClass:"list",attrs:{name:"list-complete",tag:"ul"}},t._l(t.jdList,function(s,i){return e("li",{key:i,staticClass:"item"},[e("span",{staticClass:"name"},[t._v(t._s(s.title))]),t._v(" "),e("span",{staticClass:"pay"},[t._v(t._s(t._f("kFormat")(s.payAmt)))])])}),0)],1)]),t._v(" "),e("div",{staticClass:"footer"},[t._v("\n    "+t._s(t.currentTime)+"\n  ")]),t._v(" "),t.isCountDownShow?e("count-down",{on:{close:function(s){t.isCountDownShow=!1}}}):t._e()],1)},staticRenderFns:[]};var d=e("VU/8")(m,v,!1,function(t){e("Ofal"),e("rgaM")},"data-v-7e8a6028",null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:d},template:"<App/>"})},Ofal:function(t,s){},hPiJ:function(t,s){},rgaM:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.80ac0709a12cdb4f8b1d.js.map